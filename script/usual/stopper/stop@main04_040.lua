dofile("script/include/inc_all.lua")
dofile("script/include/inc_event.lua")
function MV_ATLAS_PLACE()
  CH("PARTNER"):DirTo(CH("HERO"), Speed(350), ROT_TYPE.NEAR)
  CH("PARTNER"):WaitRotate()
  CH("NUMERA"):DirTo(CH("HERO"), Speed(350), ROT_TYPE.NEAR)
  WINDOW:DrawFace(20, 88, SymAct("PARTNER"), FACE_TYPE.NORMAL)
  WINDOW:SwitchTalk({PARTNER_0 = 1930318789, PARTNER_1 = 1779786372})
  WINDOW:CloseMessage()
  CH("HERO"):DirTo(CH("PARTNER"), Speed(350), ROT_TYPE.NEAR)
  CH("HERO"):WaitRotate()
  WINDOW:DrawFace(20, 88, SymAct("PARTNER"), FACE_TYPE.NORMAL)
  WINDOW:SwitchTalk({PARTNER_0 = 1094201671, PARTNER_1 = 1478688774})
  WINDOW:SwitchTalk({PARTNER_0 = 392337089, PARTNER_1 = 242853760})
  WINDOW:CloseMessage()
  SOUND:PlaySe(SymSnd("SE_EVT_SIGN_HURRY"), Volume(256))
  CH("NUMERA"):SetManpu("MP_FLY_SWEAT")
  CH("NUMERA"):WaitManpu()
  CH("NUMERA"):DirTo(CH("PARTNER"), Speed(350), ROT_TYPE.NEAR)
  CH("NUMERA"):WaitRotate()
  WINDOW:DrawFace(20, 88, SymAct("NUMERA"), FACE_TYPE.SAD)
  WINDOW:Talk(SymAct("NUMERA"), 626324547)
  subEveCloseMsg()
  WINDOW:DrawFace(20, 88, SymAct("PARTNER"), FACE_TYPE.NORMAL)
  WINDOW:SwitchTalk({PARTNER_0 = 1011860738, PARTNER_1 = -1143481907})
  WINDOW:SwitchTalk({PARTNER_0 = -1563629428, PARTNER_1 = 1657541410})
  WINDOW:CloseMessage()
end
function MV_FM_TW00_ALL()
  MV_ATLAS_PLACE()
end
function TR_TW00_SCHOOL_DUNGEON()
  WINDOW:SysMsg(2077696611)
  WINDOW:SelectStart()
  WINDOW:SelectChain(1358590368, 1)
  WINDOW:SelectChain(1239498977, 0)
  WINDOW:DefaultCursor(0)
  local id = WINDOW:SelectEnd(MENU_SELECT_MODE.DISABLE_CANCEL)
  if id == 1 then
    CH("PARTNER"):DirTo(CH("HERO"), Speed(350), ROT_TYPE.NEAR)
    TASK:Sleep(TimeSec(0.2))
    CH("HERO"):DirTo(CH("PARTNER"), Speed(350), ROT_TYPE.NEAR)
    TASK:Sleep(TimeSec(0.1))
    CH("NUMERA"):DirTo(CH("PARTNER"), Speed(350), ROT_TYPE.NEAR)
    CH("PARTNER"):WaitRotate()
    WINDOW:DrawFace(20, 88, SymAct("PARTNER"), FACE_TYPE.NORMAL)
    WINDOW:SwitchTalk({PARTNER_0 = 111203878, PARTNER_1 = 532408167})
    WINDOW:CloseMessage()
    CH("HERO"):SetNeckRot(RotateTarget(0), RotateTarget(-30), RotateTarget(0), TimeSec(0.15))
    CH("PARTNER"):SetNeckRot(RotateTarget(0), RotateTarget(-30), RotateTarget(0), TimeSec(0.15))
    CH("NUMERA"):SetNeckRot(RotateTarget(0), RotateTarget(-30), RotateTarget(0), TimeSec(0.15))
    CH("HERO"):WaitNeckRot()
    CH("HERO"):ResetNeckRot(TimeSec(0.2))
    CH("PARTNER"):ResetNeckRot(TimeSec(0.2))
    CH("NUMERA"):ResetNeckRot(TimeSec(0.2))
    CH("HERO"):WaitNeckRot()
    TASK:Sleep(TimeSec(0.3))
    return "next"
  else
  end
end
