function Event_Evolution_start()
  SCREEN_B:LoadWallpaper("WALLPAPER_SUB_EVOLUTION")
  CAMERA:SetEye(SymCam("CAMERA_00"))
  CAMERA:SetTgt(SymCam("CAMERA_00"))
  CAMERA:SetFovy(SymCam("CAMERA_00"))
  CAMERA:SetSisaAzimuthDifferenceVolume(Volume(0.5))
  CAMERA:SetSisaRateVolume(Volume(0.5))
  CH("EVOLUTION_BEFORE"):SetPosition(SymPos("CHARA_POINT_1"))
  CH("EVOLUTION_BEFORE"):SetVisible(false)
  CH("EVOLUTION_AFTER"):SetVisible(false)
  CH("EVOLUTION_AFTER"):ChangeColor(Color(1, 1, 1, 0), TimeSec(0, TIME_TYPE.FRAME))
  TASK:Sleep(TimeSec(0.7))
  CH("EVOLUTION_BEFORE"):SetVisible(true)
  CH("EVOLUTION_BEFORE"):SetDir(RotateTarget(180))
  CH("EVOLUTION_BEFORE"):WalkTo(SymPos("CHARA_POINT_2"), Speed(1.7))
  SCREEN_A:WhiteInAll(TimeSec(0.5), false)
  SCREEN_B:WhiteInAll(TimeSec(0.5), true)
  SAJI:CreateSajiPlayer("SAJI_02", "ORB_BG01")
  SJ("SAJI_02"):SetPosition(Vector2(200, 66))
  SJ("SAJI_02"):SetDrawPriority(600)
  SJ("SAJI_02"):SetParallax(0.5)
  SJ("SAJI_02"):SetVisible(true)
  SJ("SAJI_02"):Play(LOOP.ON)
  TASK:Sleep(TimeSec(20, TIME_TYPE.FRAME))
  CH("EVOLUTION_BEFORE"):ChangeColor(Color(1, 1, 1, 0), TimeSec(15, TIME_TYPE.FRAME))
  TASK:Sleep(TimeSec(5, TIME_TYPE.FRAME))
  CH("EVOLUTION_BEFORE"):SetShadow(false)
  CH("EVOLUTION_BEFORE"):WaitMove()
  CH("EVOLUTION_BEFORE"):SetVisible(false)
  SOUND:PlaySe(SymSnd("SE_SHOP_EVOLUTION"))
  SAJI:CreateSajiPlayer("SAJI_01", "SHINKA_FLASH")
  SJ("SAJI_01"):SetPosition(Vector2(200, 120))
  SJ("SAJI_01"):SetDrawPriority(600)
  SJ("SAJI_01"):SetParallax(0.5)
  SJ("SAJI_01"):SetVisible(true)
  SJ("SAJI_01"):Play(LOOP.ON)
  TASK:Sleep(TimeSec(2))
  SAJI:DestroySajiPlayer("SAJI_01")
  SAJI:DestroySajiPlayer("SAJI_02")
  CH("EVOLUTION_AFTER"):SetDir(RotateTarget(0))
  CH("EVOLUTION_AFTER"):SetVisible(true)
  CH("EVOLUTION_AFTER"):SetPosition(SymPos("CHARA_POINT_2"))
  CH("EVOLUTION_AFTER"):ChangeColor(Color(1, 1, 1, 1), TimeSec(15, TIME_TYPE.FRAME))
  local pokemonAfter = GROUND:ShopFlowSystem_GetEvolutionPokemonAfter()
  local pokemonAfterSpeed = GROUND:ShopFlowSystem_CalcEvolutionPokemonSpeed(pokemonAfter, 1.5, 3)
  CH("EVOLUTION_AFTER"):WalkTo(SymPos("CHARA_POINT_3"), Speed(pokemonAfterSpeed))
  TASK:Sleep(TimeSec(0.3))
  CAMERA:MoveFollow2(SymCam("CAMERA_01"), Speed(0.3, ACCEL_TYPE.NONE, DECEL_TYPE.HIGH))
  CH("EVOLUTION_AFTER"):WaitMove()
  CH("EVOLUTION_AFTER"):SetMotion(SymMot("VICTORY"), LOOP.OFF)
  CH("EVOLUTION_AFTER"):WaitPlayMotion()
  CH("EVOLUTION_AFTER"):SetMotion(SymMot("WAIT02"), LOOP.ON)
  local wareId = GROUND:ShopFlowSystem_PokemonSelect_WarehouseId()
  local pokemonIndex = GROUND:ShopFlowSystem_PokemonSelect()
  local beforeNickname = GROUND:GetPokemonWarehouseNameFromId(wareId)
  local beforePokemonName = GROUND:GetPokemonNameForPokemonWarehouseDefault(pokemonIndex)
  if wareId == 0 or wareId == 1 then
    MENU:SetTag_MonsterString(2, beforeNickname)
  else
    MENU:SetTag_MonsterString(2, beforePokemonName)
  end
  MENU:SetTag_MonsterIndex(3, GROUND:ShopFlowSystem_PokemonEvolution())
  MENU:SetTag_MonsterString(4, beforePokemonName)
  if GROUND:ShopFlowSystem_IsEvolutionEqualName() then
    MENU:SetTag_MonsterString(2, beforePokemonName)
    WINDOW:SysMsg(-1413485942)
  else
    WINDOW:SysMsg(-1297818677)
  end
  WINDOW:CloseMessage()
  SCREEN_A:WhiteOutAll(TimeSec(0.5), false)
  SCREEN_B:WhiteOutAll(TimeSec(0.5), true)
end
